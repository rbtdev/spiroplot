<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <link rel="stylesheet" type="text/css" href="./css/phone.css" />
        <link rel="stylesheet" type="text/css" href="./css/spirograph.css" />
        <link rel="stylesheet" type="text/css" href="./css/SpiroPlotter.css" />
		<link rel="stylesheet" type="text/css" href="./css/RotaryDial.css" />
        <script  src="./javascript/SpiroGraph.js"></script>
        <script  src="./javascript/SpiroPlotter.js"></script>
        <script  src="./javascript/SpiroPlotterArms.js"></script>
		<script  src="./javascript/RotaryDial.js"></script>
 
        <title>Spiro Plotter</title>
    </head>
    <body>
    	<div style = "float: left">
	        <div id ="canvasContainer" style = "margin: 20px; float:left">
	            <canvas id ="canvasShape"> </canvas>
	            <canvas id ="canvasMoving"></canvas>
	            <canvas id ="canvasBack"></canvas>
	            <!--<canvas id ="canvasFrame"></canvas> -->
	        </div>
	        <div  style = "clear:both width: 100%; text-align: center; margin:auto">
				<button style = "width: 100px; height: 50px", onclick = Spirograph.start()>Start</button>
				<button style = "width: 100px; height: 50px", onclick = Spirograph.saveImage()>Save</button>
			</div>
		</div>
		<div id = "controlPanel">
			<div id = "speedControls" style = "float:left; text-align: center">
				<div style = "float:left">
					<div id = "masterSpeed">
						<div class = 'lcd'>
							<div class = 'lcd-background'>
								<div class = 'lcd-output'>888.888</div>
							</div>
							<div class = 'lcd-front'>
								<div id = 'masterSpeedValue' class = 'lcd-output'></div>
							</div>
						</div>
					</div>
					<div style = "margin-top: -10px">Master Speed</div>
				</div>
				<div style = "float:left">
					<div id = "arm2Speed">
						<div class = 'lcd'>
							<div class = 'lcd-background'>
								<div class = 'lcd-output'>888.888</div>
							</div>
							<div class = 'lcd-front'>
								<div id = 'arm2SpeedValue' class = 'lcd-output'></div>
							</div>
						</div>
					</div>
					<div style = "margin-top: -10px">Arm 2 Speed</div>
				</div>
				<div style = "float:left">
					<div id = "arm3Speed">
						<div class = 'lcd'>
							<div class = 'lcd-background'>
								<div class = 'lcd-output'>888.888</div>
							</div>
							<div class = 'lcd-front'>
								<div id = 'arm3SpeedValue' class = 'lcd-output'></div>
							</div>
						</div>
					</div>
					<div style = "margin-top: -10px">Arm 3 Speed</div>
				</div>
			<div>
			<div id = "lengthControls" style = "float:left">
				<div style = "float:left">
					<div id = "arm2Length">
						<div class = 'lcd'>
							<div class = 'lcd-background'>
								<div class = 'lcd-output'>888.888</div>
							</div>
							<div class = 'lcd-front'>
								<div id = 'arm2LengthValue' class = 'lcd-output'></div>
							</div>
						</div>
					</div>
					<div style = "margin-top: -10px">Arm 2 Length</div>
				</div>
				<div style = "float:left">
					<div id = "arm3Length">
						<div class = 'lcd'>
							<div class = 'lcd-background'>
								<div class = 'lcd-output'>888.888</div>
							</div>
							<div class = 'lcd-front'>
								<div id = 'arm3LengthValue' class = 'lcd-output'></div>
							</div>
						</div>
					</div>
					<div style = "margin-top: -10px">Arm 3 Length</div>
				</div>
			<div>

		</div>
		<div id = "options" style = "float: left; margin-left: 40px; margin-top: 30px;">
			Pen Type
			<select onchange= Spirograph.selectPenType(this)>
				<option value="pencil">Pencil</option>
				<option value="round" selected>Brush</option>
				<option value="angle">Calligraphy</option>
			</select>
			Color
			<select onchange= Spirograph.selectPenColor(this)>
				<option value="gradient" selected>Rainbow</option>
				<option value="black">Black</option>
			</select>
			Complexity
			<select onchange= setComplexity(this.value)>
				<option value=0 selected>Low</option>
				<option value=1>Medium</option>
				<option value=2>High</option>
			</select>
		<div>
    </body>
    <script>
    	var setValue = function (valueDiv) {
    		return function (object) {
 	    		document.getElementById(valueDiv).innerHTML = object.value;
	    		Spirograph.dialChanging(object)
    		}.bind(Spirograph)   			
    	}
    	var dialSize = 150;
    	var masterSpeed = new RotaryDial("Drawing Speed","masterSpeed", "speedDial", 1, 500, 0, dialSize, setValue('masterSpeedValue'),null);
		var arm2Speed = new RotaryDial("Arm 2 Speed","arm2Speed","arm2SpeedDial",-40, 40, 0, dialSize, setValue('arm2SpeedValue'),null);
		var arm3Speed = new RotaryDial("Arm 3 Speed", "arm3Speed","arm3SpeedDial", -40, 40, 0, dialSize, setValue('arm3SpeedValue'),null);
		var arm2Length = new RotaryDial("Arm 2 Length", "arm2Length","arm2LengthDial" ,0, 4, 2,dialSize, setValue('arm2LengthValue'), null);
		var arm3Length = new RotaryDial("Arm 3 Length", "arm3Length","arm3LengthDial", 0, 4, 2,dialSize, setValue('arm3LengthValue'),null);
		Spirograph.create("canvasContainer", 400, 400);

		var setComplexity = function (complexity) {
			arm2Speed.setStep(complexity);
			arm3Speed.setStep(complexity);
		};
        //Spirograph.start();
    </script>
</html>